import https from "https";

const OWNER = "wr98-code";
const REPO  = "new-zeromeridian";
const TOKEN = process.env.GH_TOKEN;

if (!TOKEN) { console.error("âŒ GH_TOKEN not set!"); process.exit(1); }

const C0 = "LyoqCiAqIHVzZURldmljZVBlcmYudHMg4oCUIFpFUsOYIE1FUklESUFOIHB1c2gxMDMKICogcHVzaDEwMzogRGV0ZWN0IG1pZC1yYW5nZS9sb3ctZW5kIGRldmljZSDihpIgZGlzYWJsZSBoZWF2eSBiYWNrZHJvcEZpbHRlcgogKiBTdHJhdGVneToKICogICAxLiBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSA8IDQgIOKGkiBsb3ctZW5kCiAqICAgMi4gZGV2aWNlTWVtb3J5IDwgNCAoR0IpICAgICAgICAgICAgICDihpIgbG93LWVuZAogKiAgIDMuIENhbnZhcyAyRCBtaWNyby1iZW5jaG1hcmsgKDwgOG1zKSAg4oaSIG1pZC1yYW5nZSBPSywgZWxzZSBsb3cKICogICA0LiBSZXN1bHQgY2FjaGVkIGluIHNlc3Npb25TdG9yYWdlIGtleSAiem1fcGVyZl90aWVyIgogKiAtIFplcm8gSlNYIOKAlCBwdXJlIFRTIGhvb2sg4pyTCiAqIC0gbW91bnRlZFJlZiArIHVzZUVmZmVjdCBjbGVhbnVwIOKckwogKiAtIE9iamVjdC5mcmVlemUoKSBjb25zdGFudHMg4pyTCiAqIC0gUmVhY3QubWVtbyArIGRpc3BsYXlOYW1lIE4vQSAoaG9vaykg4pyTCiAqLwoKaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnOwoKZXhwb3J0IHR5cGUgUGVyZlRpZXIgPSAnaGlnaCcgfCAnbWlkJyB8ICdsb3cnOwoKZXhwb3J0IGludGVyZmFjZSBEZXZpY2VQZXJmUmVzdWx0IHsKICB0aWVyOiAgICAgICAgICBQZXJmVGllcjsKICBibHVyOiAgICAgICAgICBib29sZWFuOyAgIC8vIHRydWUgPSBzYWZlIHRvIHVzZSBiYWNrZHJvcEZpbHRlciBibHVyCiAgaGVhdnlCbHVyOiAgICAgYm9vbGVhbjsgICAvLyB0cnVlID0gc2FmZSB0byB1c2UgYmx1cigyMHB4KykKICByZWFkeTogICAgICAgICBib29sZWFuOyAgIC8vIGZhbHNlIHdoaWxlIGJlbmNobWFya2luZwp9Cgpjb25zdCBDQUNIRV9LRVkgPSAnem1fcGVyZl90aWVyJzsKCmNvbnN0IElOSVRJQUw6IERldmljZVBlcmZSZXN1bHQgPSBPYmplY3QuZnJlZXplKHsKICB0aWVyOiAgICAgICdoaWdoJywKICBibHVyOiAgICAgIHRydWUsCiAgaGVhdnlCbHVyOiB0cnVlLAogIHJlYWR5OiAgICAgZmFsc2UsCn0pOwoKZnVuY3Rpb24gdGllclRvUmVzdWx0KHRpZXI6IFBlcmZUaWVyKTogRGV2aWNlUGVyZlJlc3VsdCB7CiAgcmV0dXJuIE9iamVjdC5mcmVlemUoewogICAgdGllciwKICAgIGJsdXI6ICAgICAgdGllciAhPT0gJ2xvdycsCiAgICBoZWF2eUJsdXI6IHRpZXIgPT09ICdoaWdoJywKICAgIHJlYWR5OiAgICAgdHJ1ZSwKICB9KTsKfQoKZnVuY3Rpb24gY2FudmFzQmVuY2htYXJrKCk6IG51bWJlciB7CiAgdHJ5IHsKICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgY2FudmFzLndpZHRoICA9IDI1NjsKICAgIGNhbnZhcy5oZWlnaHQgPSAyNTY7CiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgIGlmICghY3R4KSByZXR1cm4gOTk7CiAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDA7IGkrKykgewogICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoJyArIChpICUgMjU1KSArICcsJyArIChpICUgMjAwKSArICcsJyArIChpICUgMTAwKSArICcsMC41KSc7CiAgICAgIGN0eC5maWxsUmVjdChpICUgMjU2LCBpICUgMjU2LCAzMiwgMzIpOwogICAgfQogICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpIC0gdDA7CiAgfSBjYXRjaCB7CiAgICByZXR1cm4gOTk7CiAgfQp9CgpmdW5jdGlvbiBkZXRlY3RUaWVyKCk6IFBlcmZUaWVyIHsKICAvLyBDaGVjayBjYWNoZSBmaXJzdAogIHRyeSB7CiAgICBjb25zdCBjYWNoZWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENBQ0hFX0tFWSkgYXMgUGVyZlRpZXIgfCBudWxsOwogICAgaWYgKGNhY2hlZCA9PT0gJ2hpZ2gnIHx8IGNhY2hlZCA9PT0gJ21pZCcgfHwgY2FjaGVkID09PSAnbG93JykgcmV0dXJuIGNhY2hlZDsKICB9IGNhdGNoIHsgLyogaWdub3JlICovIH0KCiAgLy8gQ2hlY2sgaGFyZHdhcmUgc2lnbmFscwogIGNvbnN0IGNvcmVzICA9IChuYXZpZ2F0b3IgYXMgTmF2aWdhdG9yICYgeyBoYXJkd2FyZUNvbmN1cnJlbmN5PzogbnVtYmVyIH0pLmhhcmR3YXJlQ29uY3VycmVuY3kgPz8gNDsKICBjb25zdCBtZW1vcnkgPSAobmF2aWdhdG9yIGFzIE5hdmlnYXRvciAmIHsgZGV2aWNlTWVtb3J5PzogbnVtYmVyIH0pLmRldmljZU1lbW9yeSA/PyA0OwoKICBsZXQgdGllcjogUGVyZlRpZXI7CgogIGlmIChjb3JlcyA8PSAyIHx8IG1lbW9yeSA8PSAyKSB7CiAgICB0aWVyID0gJ2xvdyc7CiAgfSBlbHNlIGlmIChjb3JlcyA+PSA4ICYmIG1lbW9yeSA+PSA4KSB7CiAgICAvLyBIaWdoLWVuZCBoaW50IOKAlCBzdGlsbCBiZW5jaG1hcmsgdG8gY29uZmlybQogICAgY29uc3QgbXMgPSBjYW52YXNCZW5jaG1hcmsoKTsKICAgIHRpZXIgPSBtcyA8IDYgPyAnaGlnaCcgOiAnbWlkJzsKICB9IGVsc2UgewogICAgLy8gTWlkLXJhbmdlIOKAlCBiZW5jaG1hcmsgZGVjaWRlcwogICAgY29uc3QgbXMgPSBjYW52YXNCZW5jaG1hcmsoKTsKICAgIHRpZXIgPSBtcyA8IDEwID8gJ21pZCcgOiAnbG93JzsKICB9CgogIC8vIENhY2hlIHJlc3VsdCBmb3Igc2Vzc2lvbgogIHRyeSB7IHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oQ0FDSEVfS0VZLCB0aWVyKTsgfSBjYXRjaCB7IC8qIGlnbm9yZSAqLyB9CgogIHJldHVybiB0aWVyOwp9CgpsZXQgX2NhY2hlZFJlc3VsdDogRGV2aWNlUGVyZlJlc3VsdCB8IG51bGwgPSBudWxsOwoKZXhwb3J0IGZ1bmN0aW9uIHVzZURldmljZVBlcmYoKTogRGV2aWNlUGVyZlJlc3VsdCB7CiAgY29uc3QgbW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKTsKICBjb25zdCBbcmVzdWx0LCBzZXRSZXN1bHRdID0gdXNlU3RhdGU8RGV2aWNlUGVyZlJlc3VsdD4oCiAgICBfY2FjaGVkUmVzdWx0ID8/IElOSVRJQUwKICApOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgbW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTsKCiAgICBpZiAoX2NhY2hlZFJlc3VsdCkgewogICAgICBpZiAobW91bnRlZFJlZi5jdXJyZW50KSBzZXRSZXN1bHQoX2NhY2hlZFJlc3VsdCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBSdW4gYmVuY2htYXJrIGFzeW5jIHNvIGl0IGRvZXNuJ3QgYmxvY2sgZmlyc3QgcGFpbnQKICAgIGNvbnN0IGlkID0gcmVxdWVzdElkbGVDYWxsYmFjawogICAgICA/IHJlcXVlc3RJZGxlQ2FsbGJhY2soKCkgPT4gewogICAgICAgICAgaWYgKCFtb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybjsKICAgICAgICAgIGNvbnN0IHRpZXIgPSBkZXRlY3RUaWVyKCk7CiAgICAgICAgICBfY2FjaGVkUmVzdWx0ID0gdGllclRvUmVzdWx0KHRpZXIpOwogICAgICAgICAgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkgc2V0UmVzdWx0KF9jYWNoZWRSZXN1bHQpOwogICAgICAgIH0sIHsgdGltZW91dDogMjAwMCB9KQogICAgICA6IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIGlmICghbW91bnRlZFJlZi5jdXJyZW50KSByZXR1cm47CiAgICAgICAgICBjb25zdCB0aWVyID0gZGV0ZWN0VGllcigpOwogICAgICAgICAgX2NhY2hlZFJlc3VsdCA9IHRpZXJUb1Jlc3VsdCh0aWVyKTsKICAgICAgICAgIGlmIChtb3VudGVkUmVmLmN1cnJlbnQpIHNldFJlc3VsdChfY2FjaGVkUmVzdWx0KTsKICAgICAgICB9LCAyMDApOwoKICAgIHJldHVybiAoKSA9PiB7CiAgICAgIG1vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlOwogICAgICBpZiAocmVxdWVzdElkbGVDYWxsYmFjayAmJiB0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7CiAgICAgICAgLy8gY2FuY2VsSWRsZUNhbGxiYWNrIGlmIGF2YWlsYWJsZQogICAgICAgICh3aW5kb3cgYXMgV2luZG93ICYgeyBjYW5jZWxJZGxlQ2FsbGJhY2s/OiAoaWQ6IG51bWJlcikgPT4gdm9pZCB9KQogICAgICAgICAgLmNhbmNlbElkbGVDYWxsYmFjaz8uKGlkKTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTsKICAgICAgfQogICAgfTsKICB9LCBbXSk7CgogIHJldHVybiByZXN1bHQ7Cn0K";
const C1 = "LyoqCiAqIEdsYXNzQ2FyZC50c3gg4oCUIFpFUsOYIE1FUklESUFOIHB1c2gxMDMKICogcHVzaDEwMzogdXNlRGV2aWNlUGVyZiDihpIgZmFsbGJhY2sgdGFucGEgYmx1ciBkaSBsb3cvbWlkIGRldmljZQogKiAtIFJlYWN0Lm1lbW8gKyBkaXNwbGF5TmFtZSDinJMgIHJnYmEoKSBvbmx5IOKckyAgWmVybyBjbGFzc05hbWUg4pyTCiAqIC0gdXNlTWVtbyBzdHlsZSBvYmplY3RzIOKckyAgYmFja2Ryb3BGaWx0ZXIgcmVkdWNlZCBmb3IgbW9iaWxlIHBlcmYg4pyTCiAqLwoKaW1wb3J0IHsgbWVtbywgdHlwZSBSZWFjdE5vZGUsIHR5cGUgQ1NTUHJvcGVydGllcywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7CmltcG9ydCB7IEhPVkVSLCBUQVAsIFRSQU5TSVRJT04gfSBmcm9tICdAL2xpYi9tb3Rpb24nOwppbXBvcnQgeyB1c2VEZXZpY2VQZXJmIH0gZnJvbSAnQC9ob29rcy91c2VEZXZpY2VQZXJmJzsKCmludGVyZmFjZSBHbGFzc0NhcmRQcm9wcyB7CiAgY2hpbGRyZW46ICAgICAgUmVhY3ROb2RlOwogIHN0eWxlPzogICAgICAgIENTU1Byb3BlcnRpZXM7CiAgb25DbGljaz86ICAgICAgKCkgPT4gdm9pZDsKICBob3ZlcmFibGU/OiAgICBib29sZWFuOwogIHByZXNzYWJsZT86ICAgIGJvb2xlYW47CiAgYWNjZW50Q29sb3I/OiAgc3RyaW5nOwogIHBhZGRpbmc/OiAgICAgIHN0cmluZyB8IG51bWJlcjsKICByb2xlPzogICAgICAgICBzdHJpbmc7CiAgJ2FyaWEtbGFiZWwnPzogc3RyaW5nOwp9Cgpjb25zdCBHbGFzc0NhcmQgPSBtZW1vKCh7CiAgY2hpbGRyZW4sIHN0eWxlLCBvbkNsaWNrLCBob3ZlcmFibGUgPSB0cnVlLCBwcmVzc2FibGUgPSBmYWxzZSwKICBhY2NlbnRDb2xvciwgcGFkZGluZyA9ICcxcmVtJywgcm9sZSwgJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwsCn06IEdsYXNzQ2FyZFByb3BzKSA9PiB7CgogIGNvbnN0IHsgaGVhdnlCbHVyIH0gPSB1c2VEZXZpY2VQZXJmKCk7CgogIGNvbnN0IGJhc2VTdHlsZSA9IHVzZU1lbW8oKCk6IENTU1Byb3BlcnRpZXMgPT4gKHsKICAgIGJhY2tncm91bmQ6ICAgICAgICAgICAndmFyKC0tem0tZ2xhc3MtYmcpJywKICAgIC4uLihoZWF2eUJsdXIKICAgICAgPyB7CiAgICAgICAgICBiYWNrZHJvcEZpbHRlcjogICAgICAgJ2JsdXIoMTJweCkgc2F0dXJhdGUoMTYwJSknLAogICAgICAgICAgV2Via2l0QmFja2Ryb3BGaWx0ZXI6ICdibHVyKDEycHgpIHNhdHVyYXRlKDE2MCUpJywKICAgICAgICB9CiAgICAgIDogewogICAgICAgICAgLy8gRmFsbGJhY2s6IHNsaWdodGx5IHJpY2hlciBiYWNrZ3JvdW5kIGluc3RlYWQgb2YgYmx1cgogICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMTgsMjIsMzgsMC45NyknLAogICAgICAgIH0KICAgICksCiAgICBib3JkZXI6ICAgICAgICAnMXB4IHNvbGlkICcgKyAoYWNjZW50Q29sb3IKICAgICAgPyBhY2NlbnRDb2xvci5yZXBsYWNlKC9bXGQuXStcKSQvLCAnMC4yMiknKQogICAgICA6ICd2YXIoLS16bS1nbGFzcy1ib3JkZXIpJyksCiAgICBib3JkZXJSYWRpdXM6ICAxMiwKICAgIHBhZGRpbmcsCiAgICBwb3NpdGlvbjogICAgICAncmVsYXRpdmUnLAogICAgd2lsbENoYW5nZTogICAgJ3RyYW5zZm9ybScsCiAgICAuLi5zdHlsZSwKICB9KSwgW2FjY2VudENvbG9yLCBwYWRkaW5nLCBzdHlsZSwgaGVhdnlCbHVyXSk7CgogIGNvbnN0IHRvcExpbmVTdHlsZSA9IHVzZU1lbW8oKCk6IENTU1Byb3BlcnRpZXMgfCBudWxsID0+IHsKICAgIGlmICghYWNjZW50Q29sb3IpIHJldHVybiBudWxsOwogICAgcmV0dXJuIHsKICAgICAgcG9zaXRpb246ICAgICAgJ2Fic29sdXRlJywKICAgICAgdG9wOiAgICAgICAgICAgMCwgbGVmdDogMCwgcmlnaHQ6IDAsCiAgICAgIGhlaWdodDogICAgICAgIDEsCiAgICAgIGJhY2tncm91bmQ6ICAgICdsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHRyYW5zcGFyZW50LCAnICsgYWNjZW50Q29sb3IgKyAnLCB0cmFuc3BhcmVudCknLAogICAgICBib3JkZXJSYWRpdXM6ICAnMTJweCAxMnB4IDAgMCcsCiAgICAgIG9wYWNpdHk6ICAgICAgIDAuNTUsCiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJywKICAgIH07CiAgfSwgW2FjY2VudENvbG9yXSk7CgogIHJldHVybiAoCiAgICA8bW90aW9uLmRpdgogICAgICBzdHlsZT17YmFzZVN0eWxlfQogICAgICBvbkNsaWNrPXtvbkNsaWNrfQogICAgICByb2xlPXtyb2xlfQogICAgICBhcmlhLWxhYmVsPXthcmlhTGFiZWx9CiAgICAgIHdoaWxlSG92ZXI9e2hvdmVyYWJsZSA/IEhPVkVSLmxpZnQgOiB1bmRlZmluZWR9CiAgICAgIHdoaWxlVGFwPXtwcmVzc2FibGUgPyBUQVAucHJlc3MgOiB1bmRlZmluZWR9CiAgICAgIHRyYW5zaXRpb249e1RSQU5TSVRJT04uc3ByaW5nfQogICAgPgogICAgICB7dG9wTGluZVN0eWxlICYmIDxkaXYgc3R5bGU9e3RvcExpbmVTdHlsZX0gLz59CiAgICAgIHtjaGlsZHJlbn0KICAgIDwvbW90aW9uLmRpdj4KICApOwp9KTsKR2xhc3NDYXJkLmRpc3BsYXlOYW1lID0gJ0dsYXNzQ2FyZCc7CmV4cG9ydCBkZWZhdWx0IEdsYXNzQ2FyZDsK";
const C2 = "LyoqCiAqIFRvcGJhci50c3gg4oCUIFpFUsOYIE1FUklESUFOIDIwMjYgcHVzaDEwMwogKiBwdXNoMTAzOiB1c2VEZXZpY2VQZXJmIOKGkiByZWR1Y2UgYmFja2Ryb3BGaWx0ZXIgb24gbWlkL2xvdyBkZXZpY2UKICogICAgICAgICAgRml4OiBTcGFjZSBNb25vIOKGkiBKZXRCcmFpbnMgTW9ubyAoc3RhbmRhcmRzIGNvbXBsaWFuY2UpCiAqIC0gUmVhY3QubWVtbyArIGRpc3BsYXlOYW1lIOKckyAgcmdiYSgpIG9ubHkg4pyTICBaZXJvIGNsYXNzTmFtZSDinJMKICogLSB1c2VDYWxsYmFjayArIHVzZU1lbW8gKyBtb3VudGVkUmVmIOKckwogKi8KCmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBtb3Rpb24sIHVzZVJlZHVjZWRNb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nOwppbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJ25leHQtdGhlbWVzJzsKaW1wb3J0IHsgdXNlUFdBSW5zdGFsbCB9IGZyb20gJ0AvY29udGV4dHMvUFdBSW5zdGFsbENvbnRleHQnOwppbXBvcnQgeyB1c2VCcmVha3BvaW50IH0gZnJvbSAnQC9ob29rcy91c2VCcmVha3BvaW50JzsKaW1wb3J0IHsgdXNlRGV2aWNlUGVyZiB9IGZyb20gJ0AvaG9va3MvdXNlRGV2aWNlUGVyZic7Cgpjb25zdCBGT05UX01PTk8gPSAiJ0pldEJyYWlucyBNb25vJywgbW9ub3NwYWNlIjsKCmludGVyZmFjZSBUb3BiYXJQcm9wcyB7CiAgb25NZW51VG9nZ2xlOiAgICAgKCkgPT4gdm9pZDsKICBzaWRlYmFyRXhwYW5kZWQ6ICBib29sZWFuOwogIG9uT3BlbkNtZFBhbGV0dGU6ICgpID0+IHZvaWQ7Cn0KCmNvbnN0IFN1bkljb24gID0gKCkgPT4gPHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNCIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZVdpZHRoPSIyIi8+PHBhdGggZD0iTTEyIDJ2Mk0xMiAyMHYyTTQuMjIgNC4yMmwxLjQyIDEuNDJNMTguMzYgMTguMzZsMS40MiAxLjQyTTIgMTJoMk0yMCAxMmgyTTQuMjIgMTkuNzhsMS40Mi0xLjQyTTE4LjM2IDUuNjRsMS40Mi0xLjQyIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlV2lkdGg9IjIiIHN0cm9rZUxpbmVjYXA9InJvdW5kIi8+PC9zdmc+Owpjb25zdCBNb29uSWNvbiA9ICgpID0+IDxzdmcgd2lkdGg9IjE0IiBoZWlnaHQ9IjE0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiPjxwYXRoIGQ9Ik0yMSAxMi43OUE5IDkgMCAxIDEgMTEuMjEgMyA3IDcgMCAwIDAgMjEgMTIuNzl6IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlV2lkdGg9IjIiIHN0cm9rZUxpbmVjYXA9InJvdW5kIiBzdHJva2VMaW5lam9pbj0icm91bmQiLz48L3N2Zz47CmNvbnN0IE1lbnVJY29uID0gKHsgb3BlbiB9OiB7IG9wZW46IGJvb2xlYW4gfSkgPT4gKAogIDxzdmcgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIGZpbGw9Im5vbmUiPgogICAgPHJlY3QgeD0iMS41IiB5PSIzLjUiIHdpZHRoPXtvcGVuID8gMTMgOiA5fSBoZWlnaHQ9IjEuNCIgcng9IjAuNyIgZmlsbD0iY3VycmVudENvbG9yIiBzdHlsZT17eyB0cmFuc2l0aW9uOid3aWR0aCAwLjJzJyB9fS8+CiAgICA8cmVjdCB4PSIxLjUiIHk9IjcuMyIgd2lkdGg9IjkiIGhlaWdodD0iMS40IiByeD0iMC43IiBmaWxsPSJjdXJyZW50Q29sb3IiLz4KICAgIDxyZWN0IHg9IjEuNSIgeT0iMTEuMSIgd2lkdGg9e29wZW4gPyAxMyA6IDV9IGhlaWdodD0iMS40IiByeD0iMC43IiBmaWxsPSJjdXJyZW50Q29sb3IiIHN0eWxlPXt7IHRyYW5zaXRpb246J3dpZHRoIDAuMnMnIH19Lz4KICA8L3N2Zz4KKTsKCmNvbnN0IFBXQUluc3RhbGxCdXR0b24gPSBSZWFjdC5tZW1vKCgpID0+IHsKICBjb25zdCB7IGNhbkluc3RhbGwsIGlzSW5zdGFsbGVkLCB0cmlnZ2VySW5zdGFsbCB9ID0gdXNlUFdBSW5zdGFsbCgpOwogIGNvbnN0IFtqdXN0SW5zdGFsbGVkLCBzZXRKdXN0SW5zdGFsbGVkXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBtb3VudGVkUmVmID0gdXNlUmVmKHRydWUpOwoKICB1c2VFZmZlY3QoKCkgPT4geyBtb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlOyByZXR1cm4gKCkgPT4geyBtb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZTsgfTsgfSwgW10pOwogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoaXNJbnN0YWxsZWQgJiYgbW91bnRlZFJlZi5jdXJyZW50KSB7CiAgICAgIHNldEp1c3RJbnN0YWxsZWQodHJ1ZSk7CiAgICAgIGNvbnN0IHQgPSBzZXRUaW1lb3V0KCgpID0+IHsgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkgc2V0SnVzdEluc3RhbGxlZChmYWxzZSk7IH0sIDMwMDApOwogICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHQpOwogICAgfQogIH0sIFtpc0luc3RhbGxlZF0pOwoKICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHsgYXdhaXQgdHJpZ2dlckluc3RhbGwoKTsgfSwgW3RyaWdnZXJJbnN0YWxsXSk7CiAgaWYgKCFjYW5JbnN0YWxsICYmICFqdXN0SW5zdGFsbGVkKSByZXR1cm4gbnVsbDsKCiAgcmV0dXJuICgKICAgIDxtb3Rpb24uYnV0dG9uIHR5cGU9ImJ1dHRvbiIgb25DbGljaz17anVzdEluc3RhbGxlZCA/IHVuZGVmaW5lZCA6IGhhbmRsZUNsaWNrfQogICAgICBhcmlhLWxhYmVsPXtqdXN0SW5zdGFsbGVkID8gJ0FwcCBpbnN0YWxsZWQnIDogJ0luc3RhbGwgWkVSw5ggTUVSSURJQU4nfQogICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjA2IH19IHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk0IH19CiAgICAgIHN0eWxlPXt7IHdpZHRoOiczMnB4JywgaGVpZ2h0OiczMnB4JywgYm9yZGVyUmFkaXVzOic4cHgnLCBiYWNrZ3JvdW5kOiBqdXN0SW5zdGFsbGVkID8gJ3JnYmEoNTIsMjExLDE1MywwLjA4KScgOiAncmdiYSg1MiwyMTEsMTUzLDAuMDYpJywgYm9yZGVyOicxcHggc29saWQgJysoanVzdEluc3RhbGxlZD8ncmdiYSg1MiwyMTEsMTUzLDAuMyknOidyZ2JhKDUyLDIxMSwxNTMsMC4yKScpLCBjdXJzb3I6anVzdEluc3RhbGxlZD8nZGVmYXVsdCc6J3BvaW50ZXInLCBkaXNwbGF5OidmbGV4JywgYWxpZ25JdGVtczonY2VudGVyJywganVzdGlmeUNvbnRlbnQ6J2NlbnRlcicsIGNvbG9yOidyZ2JhKDUyLDIxMSwxNTMsMC45KScsIGZsZXhTaHJpbms6MCB9fQogICAgPgogICAgICB7anVzdEluc3RhbGxlZAogICAgICAgID8gPHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSI+PHBhdGggZD0iTTIgNi41bDMgMyA2LTYiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2VXaWR0aD0iMS42IiBzdHJva2VMaW5lY2FwPSJyb3VuZCIgc3Ryb2tlTGluZWpvaW49InJvdW5kIi8+PC9zdmc+CiAgICAgICAgOiA8c3ZnIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDEzIDEzIiBmaWxsPSJub25lIj48cGF0aCBkPSJNNi41IDJ2Ni41TTQgNmwyLjUgMyAyLjUtMyIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZVdpZHRoPSIxLjUiIHN0cm9rZUxpbmVjYXA9InJvdW5kIiBzdHJva2VMaW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMiAxMC41aDkiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2VXaWR0aD0iMS41IiBzdHJva2VMaW5lY2FwPSJyb3VuZCIvPjwvc3ZnPgogICAgICB9CiAgICA8L21vdGlvbi5idXR0b24+CiAgKTsKfSk7ClBXQUluc3RhbGxCdXR0b24uZGlzcGxheU5hbWUgPSAnUFdBSW5zdGFsbEJ1dHRvbic7Cgpjb25zdCBUb3BiYXI6IFJlYWN0LkZDPFRvcGJhclByb3BzPiA9ICh7IG9uTWVudVRvZ2dsZSwgc2lkZWJhckV4cGFuZGVkLCBvbk9wZW5DbWRQYWxldHRlIH0pID0+IHsKICBjb25zdCBtb3VudGVkUmVmID0gdXNlUmVmKHRydWUpOwogIGNvbnN0IHByZWZlcnNSTSAgPSB1c2VSZWR1Y2VkTW90aW9uKCk7CiAgY29uc3QgW3RpbWUsIHNldFRpbWVdID0gdXNlU3RhdGUoKCkgPT4gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywgeyBob3VyMTI6IGZhbHNlIH0pKTsKICBjb25zdCB7IHRoZW1lLCBzZXRUaGVtZSB9ID0gdXNlVGhlbWUoKTsKICBjb25zdCB7IGlzTW9iaWxlLCBpc1RhYmxldCB9ID0gdXNlQnJlYWtwb2ludCgpOwogIGNvbnN0IHsgYmx1ciB9ID0gdXNlRGV2aWNlUGVyZigpOwoKICBjb25zdCBpc0RhcmsgICAgPSB0aGVtZSAhPT0gJ2xpZ2h0JzsKICBjb25zdCBpc0NvbXBhY3QgPSBpc01vYmlsZSB8fCBpc1RhYmxldDsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIG1vdW50ZWRSZWYuY3VycmVudCA9IHRydWU7CiAgICBjb25zdCBpdiA9IHNldEludGVydmFsKCgpID0+IHsgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkgc2V0VGltZShuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IGhvdXIxMjogZmFsc2UgfSkpOyB9LCAxMDAwKTsKICAgIHJldHVybiAoKSA9PiB7IG1vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlOyBjbGVhckludGVydmFsKGl2KTsgfTsKICB9LCBbXSk7CgogIGNvbnN0IGhhbmRsZVRvZ2dsZSAgICAgID0gdXNlQ2FsbGJhY2soKCkgPT4gb25NZW51VG9nZ2xlKCksIFtvbk1lbnVUb2dnbGVdKTsKICBjb25zdCBoYW5kbGVUaGVtZVRvZ2dsZSA9IHVzZUNhbGxiYWNrKCgpID0+IHsgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkgc2V0VGhlbWUoaXNEYXJrID8gJ2xpZ2h0JyA6ICdkYXJrJyk7IH0sIFtpc0RhcmssIHNldFRoZW1lXSk7CiAgY29uc3QgaGFuZGxlQ21kUGFsZXR0ZSAgPSB1c2VDYWxsYmFjaygoKSA9PiBvbk9wZW5DbWRQYWxldHRlKCksIFtvbk9wZW5DbWRQYWxldHRlXSk7CgogIGNvbnN0IHRvcGJhclN0eWxlID0gdXNlTWVtbygoKSA9PiAoewogICAgcG9zaXRpb246ICdmaXhlZCcgYXMgY29uc3QsIHRvcDogMjgsIHJpZ2h0OiAwLCBsZWZ0OiAwLCB6SW5kZXg6IDUwLAogICAgaGVpZ2h0OiAnNTJweCcsCiAgICBiYWNrZ3JvdW5kOiBibHVyID8gJ3JnYmEoNyw5LDE3LDAuOTMpJyA6ICdyZ2JhKDcsOSwxNywwLjk5KScsCiAgICAuLi4oYmx1cgogICAgICA/IHsgYmFja2Ryb3BGaWx0ZXI6ICdibHVyKDIwcHgpJywgV2Via2l0QmFja2Ryb3BGaWx0ZXI6ICdibHVyKDIwcHgpJyB9CiAgICAgIDoge30KICAgICksCiAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjA1KScsCiAgICBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLAogICAgcGFkZGluZzogaXNNb2JpbGUgPyAnMCAxMnB4JyA6ICcwIDIwcHgnLCBnYXA6ICcxMHB4Jywgb3ZlcmZsb3c6ICdoaWRkZW4nIGFzIGNvbnN0LAogIH0pLCBbaXNNb2JpbGUsIGJsdXJdKTsKCiAgY29uc3QgaWNvbkJ0blN0eWxlID0gdXNlTWVtbygoKSA9PiAoewogICAgd2lkdGg6JzMycHgnLCBoZWlnaHQ6JzMycHgnLCBib3JkZXJSYWRpdXM6JzhweCcsCiAgICBiYWNrZ3JvdW5kOidyZ2JhKDI1NSwyNTUsMjU1LDAuMDQpJywgYm9yZGVyOicxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjA2KScsCiAgICBjdXJzb3I6J3BvaW50ZXInLCBkaXNwbGF5OidmbGV4JywgYWxpZ25JdGVtczonY2VudGVyJywganVzdGlmeUNvbnRlbnQ6J2NlbnRlcicsCiAgICBjb2xvcjoncmdiYSgxMzAsMTM1LDE2NSwxKScsIGZsZXhTaHJpbms6MCwgdHJhbnNpdGlvbjonYWxsIDAuMTVzJywKICB9KSwgW10pOwoKICBjb25zdCBzZWFyY2hCYXJTdHlsZSA9IHVzZU1lbW8oKCkgPT4gKHsKICAgIGZsZXg6IDEsIG1heFdpZHRoOiAnMzQwcHgnLCBoZWlnaHQ6ICczMnB4JywKICAgIGJhY2tncm91bmQ6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMDQpJywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4wNyknLAogICAgYm9yZGVyUmFkaXVzOiAnOHB4JywgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAnOHB4JywKICAgIHBhZGRpbmc6ICcwIDEwcHgnLCBjdXJzb3I6ICdwb2ludGVyJywgdHJhbnNpdGlvbjogJ2JvcmRlci1jb2xvciAwLjE1cycsCiAgfSksIFtdKTsKCiAgcmV0dXJuICgKICAgIDxoZWFkZXIgcm9sZT0iYmFubmVyIiBzdHlsZT17dG9wYmFyU3R5bGV9IGFyaWEtbGFiZWw9IkFwcGxpY2F0aW9uIHRvcGJhciI+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbkNsaWNrPXtoYW5kbGVUb2dnbGV9IHN0eWxlPXtpY29uQnRuU3R5bGV9CiAgICAgICAgYXJpYS1sYWJlbD17c2lkZWJhckV4cGFuZGVkID8gJ0NvbGxhcHNlIHNpZGViYXInIDogJ0V4cGFuZCBzaWRlYmFyJ30KICAgICAgICBhcmlhLWV4cGFuZGVkPXtzaWRlYmFyRXhwYW5kZWR9CiAgICAgID4KICAgICAgICA8TWVudUljb24gb3Blbj17c2lkZWJhckV4cGFuZGVkfSAvPgogICAgICA8L2J1dHRvbj4KCiAgICAgIHshaXNDb21wYWN0ICYmICgKICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6J2ZsZXgnLCBhbGlnbkl0ZW1zOidjZW50ZXInLCBnYXA6JzhweCcsIGZsZXhTaHJpbms6MCB9fT4KICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRGYW1pbHk6IEZPTlRfTU9OTywgZm9udFNpemU6JzEycHgnLCBmb250V2VpZ2h0OjcwMCwgbGV0dGVyU3BhY2luZzonMC4xNGVtJywgY29sb3I6J3JnYmEoMjIwLDIyNSwyNDUsMC45KScgfX0+CiAgICAgICAgICAgIFpFUsOYIE1FUklESUFOCiAgICAgICAgICA8L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICB7LyogU2VhcmNoIC8gQ29tbWFuZCBwYWxldHRlIHRyaWdnZXIgKi99CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbkNsaWNrPXtoYW5kbGVDbWRQYWxldHRlfSBzdHlsZT17c2VhcmNoQmFyU3R5bGUgYXMgUmVhY3QuQ1NTUHJvcGVydGllc30KICAgICAgICBhcmlhLWxhYmVsPSJPcGVuIGNvbW1hbmQgcGFsZXR0ZSAoQ3RybCtLKSIKICAgICAgICBvbk1vdXNlRW50ZXI9e2UgPT4geyAoZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZ2JhKDAsMjM4LDI1NSwwLjIpJzsgfX0KICAgICAgICBvbk1vdXNlTGVhdmU9e2UgPT4geyAoZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMDcpJzsgfX0KICAgICAgPgogICAgICAgIDxzdmcgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiB2aWV3Qm94PSIwIDAgMTQgMTQiIGZpbGw9Im5vbmUiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgIDxjaXJjbGUgY3g9IjYiIGN5PSI2IiByPSI0LjUiIHN0cm9rZT0icmdiYSg4MCw4NSwxMTUsMSkiIHN0cm9rZVdpZHRoPSIxLjQiLz4KICAgICAgICAgIDxsaW5lIHgxPSI5LjUiIHkxPSI5LjUiIHgyPSIxMyIgeTI9IjEzIiBzdHJva2U9InJnYmEoODAsODUsMTE1LDEpIiBzdHJva2VXaWR0aD0iMS40IiBzdHJva2VMaW5lY2FwPSJyb3VuZCIvPgogICAgICAgIDwvc3ZnPgogICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRGYW1pbHk6IEZPTlRfTU9OTywgZm9udFNpemU6JzExcHgnLCBjb2xvcjoncmdiYSg3MCw3NSwxMDUsMSknLCBmbGV4OjEgfX0+CiAgICAgICAgICB7aXNDb21wYWN0ID8gJ1NlYXJjaC4uLicgOiAnU2VhcmNoIHBhZ2VzLi4uJ30KICAgICAgICA8L3NwYW4+CiAgICAgICAgeyFpc01vYmlsZSAmJiAoCiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6J2ZsZXgnLCBnYXA6JzNweCcsIGZsZXhTaHJpbms6MCB9fT4KICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgYmFja2dyb3VuZDoncmdiYSgyNTUsMjU1LDI1NSwwLjA3KScsIGJvcmRlcjonMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKScsIGJvcmRlclJhZGl1czonNHB4JywgcGFkZGluZzonMXB4IDVweCcsIGZvbnRGYW1pbHk6IEZPTlRfTU9OTywgZm9udFNpemU6JzlweCcsIGNvbG9yOidyZ2JhKDkwLDk1LDEyNSwxKScgfX0+CiAgICAgICAgICAgICAge25hdmlnYXRvci5wbGF0Zm9ybT8uaW5jbHVkZXMoJ01hYycpID8gJ+KMmCcgOiAnQ3RybCd9CiAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgYmFja2dyb3VuZDoncmdiYSgyNTUsMjU1LDI1NSwwLjA3KScsIGJvcmRlcjonMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKScsIGJvcmRlclJhZGl1czonNHB4JywgcGFkZGluZzonMXB4IDVweCcsIGZvbnRGYW1pbHk6IEZPTlRfTU9OTywgZm9udFNpemU6JzlweCcsIGNvbG9yOidyZ2JhKDkwLDk1LDEyNSwxKScgfX0+CiAgICAgICAgICAgICAgSwogICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICApfQogICAgICA8L2J1dHRvbj4KCiAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fSAvPgoKICAgICAgey8qIFJpZ2h0IGNsdXN0ZXIgKi99CiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTonZmxleCcsIGFsaWduSXRlbXM6J2NlbnRlcicsIGdhcDogaXNNb2JpbGUgPyAnNnB4JyA6ICc4cHgnLCBmbGV4U2hyaW5rOjAgfX0+CiAgICAgICAgeyFpc01vYmlsZSAmJiAoCiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250RmFtaWx5OiBGT05UX01PTk8sIGZvbnRTaXplOicxMXB4JywgY29sb3I6J3JnYmEoODAsODUsMTEwLDEpJywgbGV0dGVyU3BhY2luZzonMC4wOGVtJywgd2hpdGVTcGFjZTonbm93cmFwJywgbWluV2lkdGg6JzY4cHgnLCB0ZXh0QWxpZ246J3JpZ2h0JyB9fSBhcmlhLWxpdmU9InBvbGl0ZSIgYXJpYS1hdG9taWM9InRydWUiPgogICAgICAgICAgICB7dGltZX0KICAgICAgICAgIDwvc3Bhbj4KICAgICAgICApfQoKICAgICAgICA8UFdBSW5zdGFsbEJ1dHRvbiAvPgoKICAgICAgICA8bW90aW9uLmJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVUaGVtZVRvZ2dsZX0gc3R5bGU9e2ljb25CdG5TdHlsZX0KICAgICAgICAgIHdoaWxlSG92ZXI9e3ByZWZlcnNSTSA/IHt9IDogeyBzY2FsZTogMS4wNiB9fSB3aGlsZVRhcD17cHJlZmVyc1JNID8ge30gOiB7IHNjYWxlOiAwLjk0IH19CiAgICAgICAgICBhcmlhLWxhYmVsPXtpc0RhcmsgPyAnU3dpdGNoIHRvIGxpZ2h0IG1vZGUnIDogJ1N3aXRjaCB0byBkYXJrIG1vZGUnfQogICAgICAgID4KICAgICAgICAgIHtpc0RhcmsgPyA8U3VuSWNvbiAvPiA6IDxNb29uSWNvbiAvPn0KICAgICAgICA8L21vdGlvbi5idXR0b24+CgogICAgICAgIHshaXNNb2JpbGUgJiYgKAogICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OidmbGV4JywgYWxpZ25JdGVtczonY2VudGVyJywgZ2FwOic1cHgnLCBiYWNrZ3JvdW5kOidyZ2JhKDUyLDIxMSwxNTMsMC4wNiknLCBib3JkZXI6JzFweCBzb2xpZCByZ2JhKDUyLDIxMSwxNTMsMC4xNCknLCBib3JkZXJSYWRpdXM6JzE2cHgnLCBwYWRkaW5nOic0cHggMTBweCcsIGZvbnRTaXplOicxMHB4JywgZm9udEZhbWlseTogRk9OVF9NT05PLCBjb2xvcjoncmdiYSg1MiwyMTEsMTUzLDAuNyknLCBsZXR0ZXJTcGFjaW5nOicwLjA4ZW0nLCBmbGV4U2hyaW5rOjAgfX0gcm9sZT0ic3RhdHVzIiBhcmlhLWxhYmVsPSJOZXR3b3JrIHN0YXR1czogbGl2ZSI+CiAgICAgICAgICAgIDxtb3Rpb24uZGl2IHN0eWxlPXt7IHdpZHRoOjUsIGhlaWdodDo1LCBib3JkZXJSYWRpdXM6JzUwJScsIGJhY2tncm91bmQ6J3JnYmEoNTIsMjExLDE1MywwLjkpJywgZmxleFNocmluazowIH19IGFuaW1hdGU9e3ByZWZlcnNSTSA/IHt9IDogeyBvcGFjaXR5OlsxLDAuMzUsMV0gfX0gdHJhbnNpdGlvbj17eyBkdXJhdGlvbjoxLjgsIHJlcGVhdDpJbmZpbml0eSB9fSBhcmlhLWhpZGRlbj0idHJ1ZSIgLz4KICAgICAgICAgICAgTElWRQogICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KCiAgICAgICAgPG1vdGlvbi5idXR0b24gc3R5bGU9e3sgd2lkdGg6JzMycHgnLCBoZWlnaHQ6JzMycHgnLCBib3JkZXJSYWRpdXM6JzUwJScsIGJhY2tncm91bmQ6J3JnYmEoNTIsMjExLDE1MywwLjEpJywgYm9yZGVyOicxcHggc29saWQgcmdiYSg1MiwyMTEsMTUzLDAuMTgpJywgY3Vyc29yOidwb2ludGVyJywgZm9udFNpemU6JzEycHgnLCBmb250V2VpZ2h0OjcwMCwgY29sb3I6J3JnYmEoNTIsMjExLDE1MywwLjkpJywgZm9udEZhbWlseTogRk9OVF9NT05PLCBmbGV4U2hyaW5rOjAsIGRpc3BsYXk6J2ZsZXgnLCBhbGlnbkl0ZW1zOidjZW50ZXInLCBqdXN0aWZ5Q29udGVudDonY2VudGVyJyB9fQogICAgICAgICAgd2hpbGVIb3Zlcj17cHJlZmVyc1JNID8ge30gOiB7IHNjYWxlOiAxLjA2IH19IHdoaWxlVGFwPXtwcmVmZXJzUk0gPyB7fSA6IHsgc2NhbGU6IDAuOTQgfX0KICAgICAgICAgIGFyaWEtbGFiZWw9IlVzZXIgcHJvZmlsZSIKICAgICAgICA+CiAgICAgICAgICBXCiAgICAgICAgPC9tb3Rpb24uYnV0dG9uPgogICAgICA8L2Rpdj4KICAgIDwvaGVhZGVyPgogICk7Cn07CgpUb3BiYXIuZGlzcGxheU5hbWUgPSAnVG9wYmFyJzsKZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhUb3BiYXIpOwo=";
const C3 = "LyoqCiAqIEdsb2JhbFN0YXRzQmFyLnRzeCDigJQgWkVSw5ggTUVSSURJQU4gcHVzaDEwMwogKiBwdXNoMTAzOiB1c2VEZXZpY2VQZXJmIOKGkiByZW1vdmUgYmFja2Ryb3BGaWx0ZXIgb24gbG93L21pZCBkZXZpY2UKICogLSBSZWFjdC5tZW1vICsgZGlzcGxheU5hbWUg4pyTICByZ2JhKCkgb25seSDinJMgIFplcm8gY2xhc3NOYW1lIOKckwogKiAtIHVzZUNhbGxiYWNrICsgdXNlTWVtbyArIG1vdW50ZWRSZWYg4pyTCiAqLwoKaW1wb3J0IHsgbWVtbywgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgbW90aW9uLCB1c2VSZWR1Y2VkTW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7CmltcG9ydCB7IHVzZUdsb2JhbFN0YXRzIH0gZnJvbSAnQC9ob29rcy91c2VHbG9iYWxTdGF0cyc7CmltcG9ydCB7IGZvcm1hdENvbXBhY3QgfSBmcm9tICdAL2xpYi9mb3JtYXR0ZXJzJzsKaW1wb3J0IHsgdXNlQnJlYWtwb2ludCB9IGZyb20gJ0AvaG9va3MvdXNlQnJlYWtwb2ludCc7CmltcG9ydCB7IHVzZURldmljZVBlcmYgfSBmcm9tICdAL2hvb2tzL3VzZURldmljZVBlcmYnOwoKY29uc3QgRk9OVF9NT05PID0gIidKZXRCcmFpbnMgTW9ubycsIG1vbm9zcGFjZSI7CgovLyDilIDilIDilIAgU3BhcmtsaW5lIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAoKaW50ZXJmYWNlIFNwYXJrUHJvcHMgeyB2YWx1ZXM6IG51bWJlcltdOyBjb2xvcjogc3RyaW5nOyB3aWR0aD86IG51bWJlcjsgaGVpZ2h0PzogbnVtYmVyOyB9Cgpjb25zdCBTcGFyayA9IG1lbW8oKHsgdmFsdWVzLCBjb2xvciwgd2lkdGggPSA0OCwgaGVpZ2h0ID0gMTYgfTogU3BhcmtQcm9wcykgPT4gewogIGlmICghdmFsdWVzIHx8IHZhbHVlcy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbDsKICBjb25zdCBtaW4gPSBNYXRoLm1pbiguLi52YWx1ZXMpOwogIGNvbnN0IG1heCA9IE1hdGgubWF4KC4uLnZhbHVlcyk7CiAgY29uc3QgcmFuZ2UgPSBtYXggLSBtaW4gfHwgMTsKICBjb25zdCBwdHMgPSB2YWx1ZXMubWFwKCh2LCBpKSA9PiB7CiAgICBjb25zdCB4ID0gKGkgLyAodmFsdWVzLmxlbmd0aCAtIDEpKSAqIHdpZHRoOwogICAgY29uc3QgeSA9IGhlaWdodCAtICgodiAtIG1pbikgLyByYW5nZSkgKiBoZWlnaHQ7CiAgICByZXR1cm4geCArICcsJyArIHk7CiAgfSkuam9pbignICcpOwogIHJldHVybiAoCiAgICA8c3ZnIHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IGFyaWEtaGlkZGVuPSJ0cnVlIiBzdHlsZT17eyBmbGV4U2hyaW5rOiAwIH19PgogICAgICA8cG9seWxpbmUgcG9pbnRzPXtwdHN9IGZpbGw9Im5vbmUiIHN0cm9rZT17Y29sb3J9IHN0cm9rZVdpZHRoPSIxLjIiIHN0cm9rZUxpbmVjYXA9InJvdW5kIiBzdHJva2VMaW5lam9pbj0icm91bmQiIC8+CiAgICA8L3N2Zz4KICApOwp9KTsKU3BhcmsuZGlzcGxheU5hbWUgPSAnU3BhcmsnOwoKLy8g4pSA4pSA4pSAIFN0YXRQaWxsIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAoKaW50ZXJmYWNlIFBpbGxQcm9wcyB7CiAgbGFiZWw6ICAgIHN0cmluZzsKICB2YWx1ZTogICAgc3RyaW5nOwogIGNoYW5nZT86ICBudW1iZXI7CiAgc3Bhcms/OiAgIG51bWJlcltdOwogIGNvbG9yPzogICBzdHJpbmc7Cn0KCmNvbnN0IFN0YXRQaWxsID0gbWVtbygoeyBsYWJlbCwgdmFsdWUsIGNoYW5nZSwgc3BhcmssIGNvbG9yID0gJ3JnYmEoMCwyMzgsMjU1LDEpJyB9OiBQaWxsUHJvcHMpID0+IHsKICBjb25zdCBwcmVmZXJzUk0gPSB1c2VSZWR1Y2VkTW90aW9uKCk7CiAgY29uc3QgaXNQb3MgPSAoY2hhbmdlID8/IDApID49IDA7CiAgY29uc3QgY2hhbmdlQ29sb3IgPSBpc1BvcyA/ICdyZ2JhKDM0LDI1NSwxNzAsMSknIDogJ3JnYmEoMjU1LDY4LDEzNiwxKSc7CgogIHJldHVybiAoCiAgICA8bW90aW9uLmRpdgogICAgICBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6IDYsIGZsZXhTaHJpbms6IDAgfX0KICAgICAgd2hpbGVIb3Zlcj17cHJlZmVyc1JNID8ge30gOiB7IG9wYWNpdHk6IDAuODUgfX0KICAgID4KICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udEZhbWlseTogRk9OVF9NT05PLCBmb250U2l6ZTogOSwgY29sb3I6ICdyZ2JhKDgwLDg1LDExMCwxKScsIGxldHRlclNwYWNpbmc6ICcwLjFlbScsIHRleHRUcmFuc2Zvcm06ICd1cHBlcmNhc2UnIGFzIGNvbnN0IH19PgogICAgICAgIHtsYWJlbH0KICAgICAgPC9zcGFuPgogICAgICA8c3BhbiBzdHlsZT17eyBmb250RmFtaWx5OiBGT05UX01PTk8sIGZvbnRTaXplOiAxMCwgZm9udFdlaWdodDogNzAwLCBjb2xvciB9fT4KICAgICAgICB7dmFsdWV9CiAgICAgIDwvc3Bhbj4KICAgICAge2NoYW5nZSAhPT0gdW5kZWZpbmVkICYmICgKICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250RmFtaWx5OiBGT05UX01PTk8sIGZvbnRTaXplOiA5LCBjb2xvcjogY2hhbmdlQ29sb3IgfX0+CiAgICAgICAgICB7aXNQb3MgPyAnKycgOiAnJ317Y2hhbmdlLnRvRml4ZWQoMSl9JQogICAgICAgIDwvc3Bhbj4KICAgICAgKX0KICAgICAge3NwYXJrICYmIHNwYXJrLmxlbmd0aCA+IDEgJiYgPFNwYXJrIHZhbHVlcz17c3Bhcmt9IGNvbG9yPXtjb2xvcn0gLz59CiAgICA8L21vdGlvbi5kaXY+CiAgKTsKfSk7ClN0YXRQaWxsLmRpc3BsYXlOYW1lID0gJ1N0YXRQaWxsJzsKCi8vIOKUgOKUgOKUgCBEaXZpZGVyIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAoKY29uc3QgRGl2ID0gbWVtbygoKSA9PiAoCiAgPGRpdiBzdHlsZT17eyB3aWR0aDogMSwgaGVpZ2h0OiAxMiwgYmFja2dyb3VuZDogJ3JnYmEoMjU1LDI1NSwyNTUsMC4wNyknLCBmbGV4U2hyaW5rOiAwIH19IGFyaWEtaGlkZGVuPSJ0cnVlIiAvPgopKTsKRGl2LmRpc3BsYXlOYW1lID0gJ0Rpdic7CgovLyDilIDilIDilIAgR2xvYmFsU3RhdHNCYXIg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACgpjb25zdCBHbG9iYWxTdGF0c0JhciA9IG1lbW8oKCkgPT4gewogIGNvbnN0IG1vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSk7CiAgY29uc3QgeyBzdGF0cyB9ICA9IHVzZUdsb2JhbFN0YXRzKCk7CiAgY29uc3QgeyBpc01vYmlsZSB9ID0gdXNlQnJlYWtwb2ludCgpOwogIGNvbnN0IHsgYmx1ciB9ICAgPSB1c2VEZXZpY2VQZXJmKCk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBtb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlOwogICAgcmV0dXJuICgpID0+IHsgbW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7IH07CiAgfSwgW10pOwoKICBjb25zdCBiYXJTdHlsZSA9IHVzZU1lbW8oKCkgPT4gKHsKICAgIHBvc2l0aW9uOiAnZml4ZWQnIGFzIGNvbnN0LCB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCB6SW5kZXg6IDIwMCwgaGVpZ2h0OiAyOCwKICAgIGJhY2tncm91bmQ6IGJsdXIgPyAncmdiYSg1LDYsMTIsMSknIDogJ3JnYmEoNSw2LDEyLDEpJywKICAgIC4uLihibHVyCiAgICAgID8geyBiYWNrZHJvcEZpbHRlcjogJ2JsdXIoMTZweCknLCBXZWJraXRCYWNrZHJvcEZpbHRlcjogJ2JsdXIoMTZweCknIH0KICAgICAgOiB7fQogICAgKSwKICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMDUpJywKICAgIGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIHBhZGRpbmc6ICcwIDE2cHgnLCBnYXA6IDEyLCBvdmVyZmxvdzogJ2hpZGRlbicsCiAgfSksIFtibHVyXSk7CgogIGNvbnN0IHNjcm9sbFN0eWxlID0gdXNlTWVtbygoKSA9PiAoewogICAgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAxMiwKICAgIG92ZXJmbG93WDogJ2F1dG8nIGFzIGNvbnN0LCBzY3JvbGxiYXJXaWR0aDogJ25vbmUnIGFzIGNvbnN0LAogICAgZmxleDogMSwgbWluV2lkdGg6IDAsCiAgfSksIFtdKTsKCiAgaWYgKHN0YXRzLmxvYWRpbmcgJiYgc3RhdHMubGFzdFVwZGF0ZSA9PT0gMCkgewogICAgcmV0dXJuICgKICAgICAgPGRpdiBzdHlsZT17YmFyU3R5bGV9PgogICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udEZhbWlseTogRk9OVF9NT05PLCBmb250U2l6ZTogOSwgY29sb3I6ICdyZ2JhKDgwLDg1LDExMCwxKScsIGxldHRlclNwYWNpbmc6ICcwLjFlbScgfX0+CiAgICAgICAgICBMT0FESU5HIE1BUktFVCBEQVRBLi4uCiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgKTsKICB9CgogIGNvbnN0IHRvdGFsTWNhcCAgPSBzdGF0cy50b3RhbE1hcmtldENhcCAgID8/IDA7CiAgY29uc3QgdG90YWxWb2wgICA9IHN0YXRzLnRvdGFsVm9sdW1lMjRoICAgPz8gMDsKICBjb25zdCBidGNEb20gICAgID0gc3RhdHMuYnRjRG9taW5hbmNlICAgICA/PyAwOwogIGNvbnN0IGV0aERvbSAgICAgPSBzdGF0cy5ldGhEb21pbmFuY2UgICAgID8/IDA7CiAgY29uc3QgbWNhcENoYW5nZSA9IHN0YXRzLm1hcmtldENhcENoYW5nZSAgPz8gMDsKICBjb25zdCBhY3RDb2lucyAgID0gc3RhdHMuYWN0aXZlQ3VycmVuY2llcyA/PyAwOwoKICByZXR1cm4gKAogICAgPGRpdiBzdHlsZT17YmFyU3R5bGV9IHJvbGU9ImNvbXBsZW1lbnRhcnkiIGFyaWEtbGFiZWw9Ikdsb2JhbCBtYXJrZXQgc3RhdGlzdGljcyI+CiAgICAgIDxkaXYgc3R5bGU9e3Njcm9sbFN0eWxlfT4KCiAgICAgICAgPFN0YXRQaWxsCiAgICAgICAgICBsYWJlbD0iTUNBUCIKICAgICAgICAgIHZhbHVlPXsnJCcgKyBmb3JtYXRDb21wYWN0KHRvdGFsTWNhcCl9CiAgICAgICAgICBjaGFuZ2U9e21jYXBDaGFuZ2V9CiAgICAgICAgICBjb2xvcj0icmdiYSgwLDIzOCwyNTUsMSkiCiAgICAgICAgLz4KCiAgICAgICAgeyFpc01vYmlsZSAmJiA8RGl2IC8+fQoKICAgICAgICB7IWlzTW9iaWxlICYmICgKICAgICAgICAgIDxTdGF0UGlsbAogICAgICAgICAgICBsYWJlbD0iMjRIIFZPTCIKICAgICAgICAgICAgdmFsdWU9eyckJyArIGZvcm1hdENvbXBhY3QodG90YWxWb2wpfQogICAgICAgICAgICBjb2xvcj0icmdiYSgxNDgsMTYzLDE4NCwxKSIKICAgICAgICAgIC8+CiAgICAgICAgKX0KCiAgICAgICAgPERpdiAvPgoKICAgICAgICA8U3RhdFBpbGwKICAgICAgICAgIGxhYmVsPSJCVEMuRCIKICAgICAgICAgIHZhbHVlPXtidGNEb20udG9GaXhlZCgxKSArICclJ30KICAgICAgICAgIGNvbG9yPSJyZ2JhKDI1MSwxOTEsMzYsMSkiCiAgICAgICAgLz4KCiAgICAgICAgeyFpc01vYmlsZSAmJiA8RGl2IC8+fQoKICAgICAgICB7IWlzTW9iaWxlICYmICgKICAgICAgICAgIDxTdGF0UGlsbAogICAgICAgICAgICBsYWJlbD0iRVRILkQiCiAgICAgICAgICAgIHZhbHVlPXtldGhEb20udG9GaXhlZCgxKSArICclJ30KICAgICAgICAgICAgY29sb3I9InJnYmEoMTM5LDkyLDI0NiwxKSIKICAgICAgICAgIC8+CiAgICAgICAgKX0KCiAgICAgICAgeyFpc01vYmlsZSAmJiA8RGl2IC8+fQoKICAgICAgICB7IWlzTW9iaWxlICYmICgKICAgICAgICAgIDxTdGF0UGlsbAogICAgICAgICAgICBsYWJlbD0iQ09JTlMiCiAgICAgICAgICAgIHZhbHVlPXthY3RDb2lucy50b0xvY2FsZVN0cmluZygpfQogICAgICAgICAgICBjb2xvcj0icmdiYSgxNDgsMTYzLDE4NCwxKSIKICAgICAgICAgIC8+CiAgICAgICAgKX0KCiAgICAgIDwvZGl2PgoKICAgICAgey8qIFRpbWVzdGFtcCAqL30KICAgICAge3N0YXRzLmxhc3RVcGRhdGUgPiAwICYmICgKICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250RmFtaWx5OiBGT05UX01PTk8sIGZvbnRTaXplOiA5LCBjb2xvcjogJ3JnYmEoNjAsNjUsOTAsMSknLCBmbGV4U2hyaW5rOiAwLCBtYXJnaW5MZWZ0OiAnYXV0bycgfX0+CiAgICAgICAgICB7bmV3IERhdGUoc3RhdHMubGFzdFVwZGF0ZSkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgaG91cjEyOiBmYWxzZSB9KX0KICAgICAgICA8L3NwYW4+CiAgICAgICl9CiAgICA8L2Rpdj4KICApOwp9KTsKCkdsb2JhbFN0YXRzQmFyLmRpc3BsYXlOYW1lID0gJ0dsb2JhbFN0YXRzQmFyJzsKZXhwb3J0IGRlZmF1bHQgR2xvYmFsU3RhdHNCYXI7Cg==";
const C4 = "LyoqCiAqIEFwcFNoZWxsLnRzeCDigJQgWkVSw5ggTUVSSURJQU4gMjAyNiBwdXNoMTAzCiAqIHB1c2gxMDM6IHVzZURldmljZVBlcmYg4oaSIHJlZHVjZSBvdmVybGF5IGJhY2tkcm9wRmlsdGVyIG9uIGxvdy9taWQgZGV2aWNlCiAqIHB1c2g4NTogSW50ZWdyYXRlIENvbW1hbmRQYWxldHRlICsgQ3RybCtLIGdsb2JhbCBzaG9ydGN1dAogKiAtIFJlYWN0Lm1lbW8gKyBkaXNwbGF5TmFtZSDinJMgIHJnYmEoKSBvbmx5IOKckyAgWmVybyBjbGFzc05hbWUg4pyTCiAqIC0gdXNlQ2FsbGJhY2sgKyB1c2VNZW1vICsgbW91bnRlZFJlZiDinJMKICovCgppbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UsIHVzZVJlZHVjZWRNb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJzsKaW1wb3J0IHsgdXNlTG9jYXRpb24gfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IFpNU2lkZWJhciBmcm9tICcuL1pNU2lkZWJhcic7CmltcG9ydCBUb3BiYXIgZnJvbSAnLi9Ub3BiYXInOwppbXBvcnQgQm90dG9tTmF2QmFyIGZyb20gJy4vQm90dG9tTmF2QmFyJzsKaW1wb3J0IFBhZ2VUcmFuc2l0aW9uIGZyb20gJy4uL3NoYXJlZC9QYWdlVHJhbnNpdGlvbic7CmltcG9ydCBHbG9iYWxTdGF0c0JhciBmcm9tICcuLi9zaGFyZWQvR2xvYmFsU3RhdHNCYXInOwppbXBvcnQgQ29tbWFuZFBhbGV0dGUgZnJvbSAnLi4vc2hhcmVkL0NvbW1hbmRQYWxldHRlJzsKaW1wb3J0IHsgdXNlQnJlYWtwb2ludCB9IGZyb20gJ0AvaG9va3MvdXNlQnJlYWtwb2ludCc7CmltcG9ydCB7IHVzZURldmljZVBlcmYgfSBmcm9tICdAL2hvb2tzL3VzZURldmljZVBlcmYnOwppbXBvcnQgUFdBSW5zdGFsbFByb21wdCBmcm9tICdAL2NvbXBvbmVudHMvc2hhcmVkL1BXQUluc3RhbGxQcm9tcHQnOwoKaW50ZXJmYWNlIEFwcFNoZWxsUHJvcHMgeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyBjdXJyZW50UGF0aD86IHN0cmluZzsgfQoKY29uc3Qgc2hlbGxWYXJpYW50cyA9IE9iamVjdC5mcmVlemUoewogIGluaXRpYWw6IHsgb3BhY2l0eTogMCB9LAogIGFuaW1hdGU6IHsgb3BhY2l0eTogMSwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC40LCBlYXNlOiBbMC4yMiwgMSwgMC4zNiwgMV0gfSB9LAp9KTsKCmNvbnN0IGRyYXdlclZhcmlhbnRzID0gT2JqZWN0LmZyZWV6ZSh7CiAgaGlkZGVuOiAgeyB4OiAnLTEwMCUnLCBvcGFjaXR5OiAwIH0sCiAgdmlzaWJsZTogeyB4OiAnMCUnLCAgIG9wYWNpdHk6IDEsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuMjgsIGVhc2U6IFswLjIyLCAxLCAwLjM2LCAxXSB9IH0sCiAgZXhpdDogICAgeyB4OiAnLTEwMCUnLCBvcGFjaXR5OiAwLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjIyLCBlYXNlOiBbMC4zNiwgMCwgMC42NiwgMF0gfSB9LAp9KTsKCmNvbnN0IG92ZXJsYXlWYXJpYW50cyA9IE9iamVjdC5mcmVlemUoewogIGhpZGRlbjogIHsgb3BhY2l0eTogMCB9LAogIHZpc2libGU6IHsgb3BhY2l0eTogMSwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC4yIH0gfSwKICBleGl0OiAgICB7IG9wYWNpdHk6IDAsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuMiB9IH0sCn0pOwoKY29uc3QgQXBwU2hlbGw6IFJlYWN0LkZDPEFwcFNoZWxsUHJvcHM+ID0gKHsgY2hpbGRyZW4sIGN1cnJlbnRQYXRoOiBwcm9wUGF0aCB9KSA9PiB7CiAgY29uc3QgbW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKTsKICBjb25zdCBbc2lkZWJhckV4cGFuZGVkLCAgc2V0U2lkZWJhckV4cGFuZGVkXSAgPSBSZWFjdC51c2VTdGF0ZSh0cnVlKTsKICBjb25zdCBbbW9iaWxlRHJhd2VyT3Blbiwgc2V0TW9iaWxlRHJhd2VyT3Blbl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2NtZFBhbGV0dGVPcGVuLCAgIHNldENtZFBhbGV0dGVPcGVuXSAgID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IHByZWZlcnNSTSAgPSB1c2VSZWR1Y2VkTW90aW9uKCk7CiAgY29uc3QgbG9jYXRpb24gICA9IHVzZUxvY2F0aW9uKCk7CiAgY29uc3QgeyBpc01vYmlsZSwgaXNUYWJsZXQgfSA9IHVzZUJyZWFrcG9pbnQoKTsKICBjb25zdCB7IGJsdXIgfSAgID0gdXNlRGV2aWNlUGVyZigpOwoKICBjb25zdCBjdXJyZW50UGF0aCAgICAgID0gcHJvcFBhdGggPz8gbG9jYXRpb24ucGF0aG5hbWU7CiAgY29uc3Qgc2hvd0JvdHRvbU5hdiAgICA9IGlzTW9iaWxlOwogIGNvbnN0IHNob3dNb2JpbGVEcmF3ZXIgPSBpc01vYmlsZSB8fCBpc1RhYmxldDsKCiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKICAgIG1vdW50ZWRSZWYuY3VycmVudCA9IHRydWU7CiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZTsgfTsKICB9LCBbXSk7CgogIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoc2hvd01vYmlsZURyYXdlciAmJiBtb2JpbGVEcmF3ZXJPcGVuKSBzZXRNb2JpbGVEcmF3ZXJPcGVuKGZhbHNlKTsKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzCiAgfSwgW2N1cnJlbnRQYXRoXSk7CgogIC8vIEdsb2JhbCBDdHJsK0sgLyBDbWQrSwogIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CiAgICBjb25zdCBoYW5kbGVyID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHsKICAgICAgaWYgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiBlLmtleSA9PT0gJ2snKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGlmIChtb3VudGVkUmVmLmN1cnJlbnQpIHNldENtZFBhbGV0dGVPcGVuKHByZXYgPT4gIXByZXYpOwogICAgICB9CiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgY21kUGFsZXR0ZU9wZW4pIHsKICAgICAgICBpZiAobW91bnRlZFJlZi5jdXJyZW50KSBzZXRDbWRQYWxldHRlT3BlbihmYWxzZSk7CiAgICAgIH0KICAgIH07CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZXIpOwogICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlcik7CiAgfSwgW2NtZFBhbGV0dGVPcGVuXSk7CgogIGNvbnN0IHRvZ2dsZVNpZGViYXIgICA9IHVzZUNhbGxiYWNrKCgpID0+IHsKICAgIGlmICghbW91bnRlZFJlZi5jdXJyZW50KSByZXR1cm47CiAgICBpZiAoc2hvd01vYmlsZURyYXdlcikgc2V0TW9iaWxlRHJhd2VyT3BlbihwcmV2ID0+ICFwcmV2KTsKICAgIGVsc2Ugc2V0U2lkZWJhckV4cGFuZGVkKHByZXYgPT4gIXByZXYpOwogIH0sIFtzaG93TW9iaWxlRHJhd2VyXSk7CgogIGNvbnN0IGNsb3NlRHJhd2VyICAgICA9IHVzZUNhbGxiYWNrKCgpID0+IHsgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkgc2V0TW9iaWxlRHJhd2VyT3BlbihmYWxzZSk7IH0sIFtdKTsKICBjb25zdCBvcGVuQ21kUGFsZXR0ZSAgPSB1c2VDYWxsYmFjaygoKSA9PiB7IGlmIChtb3VudGVkUmVmLmN1cnJlbnQpIHNldENtZFBhbGV0dGVPcGVuKHRydWUpOyAgfSwgW10pOwogIGNvbnN0IGNsb3NlQ21kUGFsZXR0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHsgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkgc2V0Q21kUGFsZXR0ZU9wZW4oZmFsc2UpOyB9LCBbXSk7CgogIGNvbnN0IG1haW5WYXJpYW50cyA9IHVzZU1lbW8oKCkgPT4gT2JqZWN0LmZyZWV6ZSh7CiAgICBjb2xsYXBzZWQ6IHsgbWFyZ2luTGVmdDogNjggIH0sCiAgICBleHBhbmRlZDogIHsgbWFyZ2luTGVmdDogMjU2IH0sCiAgICBtb2JpbGU6ICAgIHsgbWFyZ2luTGVmdDogMCAgIH0sCiAgfSksIFtdKTsKCiAgY29uc3QgbWFpbkFuaW1hdGUgPSB1c2VNZW1vKCgpID0+IHsKICAgIGlmIChzaG93TW9iaWxlRHJhd2VyKSByZXR1cm4gJ21vYmlsZSc7CiAgICByZXR1cm4gc2lkZWJhckV4cGFuZGVkID8gJ2V4cGFuZGVkJyA6ICdjb2xsYXBzZWQnOwogIH0sIFtzaG93TW9iaWxlRHJhd2VyLCBzaWRlYmFyRXhwYW5kZWRdKTsKCiAgY29uc3QgbWFpblN0eWxlID0gdXNlTWVtbygoKSA9PiAoewogICAgbWluSGVpZ2h0OiAgJzEwMHZoJywKICAgIGJhY2tncm91bmQ6ICd2YXIoLS16bS1iZy1iYXNlKScsCiAgICB0cmFuc2l0aW9uOiBwcmVmZXJzUk0gPyAnbm9uZScgOiAnbWFyZ2luLWxlZnQgMC4zcyBjdWJpYy1iZXppZXIoMC4yMiwxLDAuMzYsMSknLAogICAgd2lsbENoYW5nZTogJ21hcmdpbi1sZWZ0JyBhcyBjb25zdCwKICB9KSwgW3ByZWZlcnNSTV0pOwoKICBjb25zdCBjb250ZW50U3R5bGUgPSB1c2VNZW1vKCgpID0+ICh7CiAgICBwYWRkaW5nOiAgICAgICBpc01vYmlsZSA/ICcwIDE0cHggMzJweCcgOiAnMCAyOHB4IDMycHgnLAogICAgcGFkZGluZ1RvcDogICAgJzk2cHgnLAogICAgcGFkZGluZ0JvdHRvbTogc2hvd0JvdHRvbU5hdiA/ICc4MHB4JyA6ICczMnB4JywKICAgIG1heFdpZHRoOiAgICAgICcxODAwcHgnLAogICAgbWFyZ2luOiAgICAgICAgJzAgYXV0bycsCiAgICBib3hTaXppbmc6ICAgICAnYm9yZGVyLWJveCcgYXMgY29uc3QsCiAgICB3aWR0aDogICAgICAgICAnMTAwJScsCiAgICBvdmVyZmxvd1g6ICAgICAnaGlkZGVuJyBhcyBjb25zdCwKICB9KSwgW3Nob3dCb3R0b21OYXYsIGlzTW9iaWxlXSk7CgogIC8vIGJsdXIgZmFsbGJhY2s6IG9uIGxvdy9taWQgZGV2aWNlIHNraXAgYmFja2Ryb3BGaWx0ZXIgb24gb3ZlcmxheQogIGNvbnN0IG92ZXJsYXlTdHlsZSA9IHVzZU1lbW8oKCkgPT4gKHsKICAgIHBvc2l0aW9uOiAnZml4ZWQnIGFzIGNvbnN0LCBpbnNldDogMCwgekluZGV4OiAxNDksCiAgICBiYWNrZ3JvdW5kOiAncmdiYSg1LDUsMTQsMC43KScsCiAgICAuLi4oYmx1cgogICAgICA/IHsgYmFja2Ryb3BGaWx0ZXI6ICdibHVyKDJweCknLCBXZWJraXRCYWNrZHJvcEZpbHRlcjogJ2JsdXIoMnB4KScgfQogICAgICA6IHt9CiAgICApLAogIH0pLCBbYmx1cl0pOwoKICBjb25zdCBkcmF3ZXJTdHlsZSA9IHVzZU1lbW8oKCkgPT4gKHsKICAgIHBvc2l0aW9uOiAnZml4ZWQnIGFzIGNvbnN0LCB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwKICAgIHpJbmRleDogMTUwLCB3aWR0aDogJzI0MHB4Jywgd2lsbENoYW5nZTogJ3RyYW5zZm9ybScgYXMgY29uc3QsCiAgfSksIFtdKTsKCiAgcmV0dXJuICgKICAgIDxtb3Rpb24uZGl2IHZhcmlhbnRzPXtzaGVsbFZhcmlhbnRzfSBpbml0aWFsPSJpbml0aWFsIiBhbmltYXRlPSJhbmltYXRlIgogICAgICBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIG1pbkhlaWdodDogJzEwMHZoJywgYmFja2dyb3VuZDogJ3ZhcigtLXptLWJnLWJhc2UpJyB9fQogICAgPgogICAgICB7LyogRGVza3RvcCBzaWRlYmFyICovfQogICAgICB7IXNob3dNb2JpbGVEcmF3ZXIgJiYgKAogICAgICAgIDxaTVNpZGViYXIgZXhwYW5kZWQ9e3NpZGViYXJFeHBhbmRlZH0gb25Ub2dnbGU9e3RvZ2dsZVNpZGViYXJ9IGN1cnJlbnRQYXRoPXtjdXJyZW50UGF0aH0gLz4KICAgICAgKX0KCiAgICAgIHsvKiBNb2JpbGUvVGFibGV0IGRyYXdlciAqL30KICAgICAgPEFuaW1hdGVQcmVzZW5jZT4KICAgICAgICB7c2hvd01vYmlsZURyYXdlciAmJiBtb2JpbGVEcmF3ZXJPcGVuICYmICgKICAgICAgICAgIDw+CiAgICAgICAgICAgIDxtb3Rpb24uZGl2IGtleT0ib3ZlcmxheSIgdmFyaWFudHM9e292ZXJsYXlWYXJpYW50c30gaW5pdGlhbD0iaGlkZGVuIiBhbmltYXRlPSJ2aXNpYmxlIiBleGl0PSJleGl0IgogICAgICAgICAgICAgIHN0eWxlPXtvdmVybGF5U3R5bGV9IG9uQ2xpY2s9e2Nsb3NlRHJhd2VyfSByb2xlPSJidXR0b24iIGFyaWEtbGFiZWw9IkNsb3NlIG5hdmlnYXRpb24gZHJhd2VyIiAvPgogICAgICAgICAgICA8bW90aW9uLmRpdiBrZXk9ImRyYXdlciIgdmFyaWFudHM9e3ByZWZlcnNSTSA/IHt9IDogZHJhd2VyVmFyaWFudHN9IGluaXRpYWw9ImhpZGRlbiIgYW5pbWF0ZT0idmlzaWJsZSIgZXhpdD0iZXhpdCIgc3R5bGU9e2RyYXdlclN0eWxlfT4KICAgICAgICAgICAgICA8Wk1TaWRlYmFyIGV4cGFuZGVkPXt0cnVlfSBvblRvZ2dsZT17Y2xvc2VEcmF3ZXJ9IGN1cnJlbnRQYXRoPXtjdXJyZW50UGF0aH0gLz4KICAgICAgICAgICAgPC9tb3Rpb24uZGl2PgogICAgICAgICAgPC8+CiAgICAgICAgKX0KICAgICAgPC9BbmltYXRlUHJlc2VuY2U+CgogICAgICB7LyogTWFpbiAqL30KICAgICAgPG1vdGlvbi5tYWluIGFuaW1hdGU9e21haW5BbmltYXRlfSB2YXJpYW50cz17bWFpblZhcmlhbnRzfQogICAgICAgIHRyYW5zaXRpb249e3ByZWZlcnNSTSA/IHsgZHVyYXRpb246IDAgfSA6IHsgZHVyYXRpb246IDAuMywgZWFzZTogWzAuMjIsIDEsIDAuMzYsIDFdIH19CiAgICAgICAgc3R5bGU9e3sgLi4ubWFpblN0eWxlLCBmbGV4OiAxLCBtaW5XaWR0aDogMCB9fQogICAgICA+CiAgICAgICAgPFRvcGJhciBvbk1lbnVUb2dnbGU9e3RvZ2dsZVNpZGViYXJ9IHNpZGViYXJFeHBhbmRlZD17c2lkZWJhckV4cGFuZGVkfSBvbk9wZW5DbWRQYWxldHRlPXtvcGVuQ21kUGFsZXR0ZX0gLz4KICAgICAgICA8R2xvYmFsU3RhdHNCYXIgLz4KICAgICAgICA8ZGl2IHN0eWxlPXtjb250ZW50U3R5bGV9PgogICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZSBtb2RlPSJ3YWl0Ij4KICAgICAgICAgICAgPFBhZ2VUcmFuc2l0aW9uIGtleT17Y3VycmVudFBhdGh9PntjaGlsZHJlbn08L1BhZ2VUcmFuc2l0aW9uPgogICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvbW90aW9uLm1haW4+CgogICAgICB7c2hvd0JvdHRvbU5hdiAmJiA8Qm90dG9tTmF2QmFyIC8+fQogICAgICA8UFdBSW5zdGFsbFByb21wdCAvPgoKICAgICAgey8qIENvbW1hbmQgUGFsZXR0ZSAqL30KICAgICAgPENvbW1hbmRQYWxldHRlIG9wZW49e2NtZFBhbGV0dGVPcGVufSBvbkNsb3NlPXtjbG9zZUNtZFBhbGV0dGV9IC8+CiAgICA8L21vdGlvbi5kaXY+CiAgKTsKfTsKCkFwcFNoZWxsLmRpc3BsYXlOYW1lID0gJ0FwcFNoZWxsJzsKZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhBcHBTaGVsbCk7Cg==";
const C5 = "aW1wb3J0IHsgZGVmaW5lQ29uZmlnIH0gZnJvbSAndml0ZSc7CmltcG9ydCByZWFjdCBmcm9tICdAdml0ZWpzL3BsdWdpbi1yZWFjdC1zd2MnOwppbXBvcnQgcGF0aCBmcm9tICdwYXRoJzsKaW1wb3J0IHsgY29tcG9uZW50VGFnZ2VyIH0gZnJvbSAnbG92YWJsZS10YWdnZXInOwppbXBvcnQgY29tcHJlc3Npb24gZnJvbSAndml0ZS1wbHVnaW4tY29tcHJlc3Npb24nOwoKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKCh7IG1vZGUgfSkgPT4gKHsKICBzZXJ2ZXI6IHsKICAgIGhvc3Q6ICc6OicsCiAgICBwb3J0OiA4MDgwLAogICAgaG1yOiB7IG92ZXJsYXk6IGZhbHNlIH0sCiAgICBoZWFkZXJzOiB7CiAgICAgICdDcm9zcy1PcmlnaW4tT3BlbmVyLVBvbGljeSc6ICAgJ3NhbWUtb3JpZ2luJywKICAgICAgJ0Nyb3NzLU9yaWdpbi1FbWJlZGRlci1Qb2xpY3knOiAncmVxdWlyZS1jb3JwJywKICAgICAgJ0Nyb3NzLU9yaWdpbi1SZXNvdXJjZS1Qb2xpY3knOiAnY3Jvc3Mtb3JpZ2luJywKICAgIH0sCiAgfSwKCiAgcGx1Z2luczogWwogICAgcmVhY3QoKSwKICAgIG1vZGUgPT09ICdkZXZlbG9wbWVudCcgJiYgY29tcG9uZW50VGFnZ2VyKCksCgogICAgLy8gQnJvdGxpIGNvbXByZXNzaW9uCiAgICBjb21wcmVzc2lvbih7CiAgICAgIGFsZ29yaXRobTogJ2Jyb3RsaUNvbXByZXNzJywKICAgICAgZXh0OiAnLmJyJywKICAgICAgdGhyZXNob2xkOiAxMDI0LAogICAgfSksCgogICAgLy8gR3ppcCBmYWxsYmFjawogICAgY29tcHJlc3Npb24oewogICAgICBhbGdvcml0aG06ICdnemlwJywKICAgICAgZXh0OiAnLmd6JywKICAgICAgdGhyZXNob2xkOiAxMDI0LAogICAgfSksCiAgXS5maWx0ZXIoQm9vbGVhbiksCgogIHJlc29sdmU6IHsKICAgIGFsaWFzOiB7ICdAJzogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4vc3JjJykgfSwKICB9LAoKICAvLyBXQVNNIHN1cHBvcnQKICBhc3NldHNJbmNsdWRlOiBbJyoqLyoud2FzbSddLAoKICB3b3JrZXI6IHsKICAgIGZvcm1hdDogJ2VzJywKICB9LAoKICBidWlsZDogewogICAgdGFyZ2V0OiAnZXNuZXh0JywKICAgIG1pbmlmeTogJ2VzYnVpbGQnLAogICAgc291cmNlbWFwOiBmYWxzZSwKICAgIGNodW5rU2l6ZVdhcm5pbmdMaW1pdDogNTAwLAogICAgcm9sbHVwT3B0aW9uczogewogICAgICBvdXRwdXQ6IHsKICAgICAgICBtYW51YWxDaHVua3MoaWQpIHsKICAgICAgICAgIC8vIOKUgOKUgOKUgCBWZW5kb3I6IFJlYWN0IGNvcmUg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ25vZGVfbW9kdWxlcy9yZWFjdC8nKSB8fAogICAgICAgICAgICAgIGlkLmluY2x1ZGVzKCdub2RlX21vZHVsZXMvcmVhY3QtZG9tLycpIHx8CiAgICAgICAgICAgICAgaWQuaW5jbHVkZXMoJ25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tLycpIHx8CiAgICAgICAgICAgICAgaWQuaW5jbHVkZXMoJ25vZGVfbW9kdWxlcy9zY2hlZHVsZXIvJykpIHsKICAgICAgICAgICAgcmV0dXJuICd2ZW5kb3ItcmVhY3QnOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIOKUgOKUgOKUgCBWZW5kb3I6IERhdGEgLyBRdWVyeSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JykpIHsKICAgICAgICAgICAgcmV0dXJuICd2ZW5kb3ItcXVlcnknOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIOKUgOKUgOKUgCBWZW5kb3I6IEFuaW1hdGlvbiDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnZnJhbWVyLW1vdGlvbicpKSB7CiAgICAgICAgICAgIHJldHVybiAndmVuZG9yLW1vdGlvbic7CiAgICAgICAgICB9CgogICAgICAgICAgLy8g4pSA4pSA4pSAIFZlbmRvcjogM0QgKGhlYXZ5LCBvbmx5IENoYXJ0cykg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ25vZGVfbW9kdWxlcy90aHJlZS8nKSkgewogICAgICAgICAgICByZXR1cm4gJ3ZlbmRvci10aHJlZSc7CiAgICAgICAgICB9CgogICAgICAgICAgLy8g4pSA4pSA4pSAIFZlbmRvcjogUmFkaXggVUkg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ0ByYWRpeC11aS8nKSkgewogICAgICAgICAgICByZXR1cm4gJ3ZlbmRvci1yYWRpeCc7CiAgICAgICAgICB9CgogICAgICAgICAgLy8g4pSA4pSA4pSAIFZlbmRvcjogSWNvbnMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ2x1Y2lkZS1yZWFjdCcpKSB7CiAgICAgICAgICAgIHJldHVybiAndmVuZG9yLWljb25zJzsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyDilIDilIDilIAgVmVuZG9yOiBVdGlsaXRpZXMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ2Nsc3gnKSB8fAogICAgICAgICAgICAgIGlkLmluY2x1ZGVzKCd0YWlsd2luZC1tZXJnZScpIHx8CiAgICAgICAgICAgICAgaWQuaW5jbHVkZXMoJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eScpKSB7CiAgICAgICAgICAgIHJldHVybiAndmVuZG9yLXV0aWxzJzsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyDilIDilIDilIAgVmVuZG9yOiBUaGVtZSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnbmV4dC10aGVtZXMnKSkgewogICAgICAgICAgICByZXR1cm4gJ3ZlbmRvci10aGVtZSc7CiAgICAgICAgICB9CgogICAgICAgICAgLy8g4pSA4pSA4pSAIFBlci1yb3V0ZSBwYWdlIGNodW5rcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKICAgICAgICAgIC8vIEVhY2ggaGVhdnkgcGFnZSBnZXRzIGl0cyBvd24gY2h1bmsgc28gaXQncyBvbmx5IGxvYWRlZCBvbiBkZW1hbmQKCiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ3NyYy9wYWdlcy9EYXNoYm9hcmQnKSkgICAgcmV0dXJuICdwYWdlLWRhc2hib2FyZCc7CiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ3NyYy9wYWdlcy9NYXJrZXRzJykpICAgICAgcmV0dXJuICdwYWdlLW1hcmtldHMnOwogICAgICAgICAgaWYgKGlkLmluY2x1ZGVzKCdzcmMvcGFnZXMvQ2hhcnRzJykpICAgICAgIHJldHVybiAncGFnZS1jaGFydHMnOwogICAgICAgICAgaWYgKGlkLmluY2x1ZGVzKCdzcmMvcGFnZXMvT3JkZXJCb29rJykpICAgIHJldHVybiAncGFnZS1vcmRlcmJvb2snOwogICAgICAgICAgaWYgKGlkLmluY2x1ZGVzKCdzcmMvcGFnZXMvRGVyaXZhdGl2ZXMnKSkgIHJldHVybiAncGFnZS1kZXJpdmF0aXZlcyc7CiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ3NyYy9wYWdlcy9XYXRjaGxpc3QnKSkgICAgcmV0dXJuICdwYWdlLXdhdGNobGlzdCc7CiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ3NyYy9wYWdlcy9EZWZpJykpICAgICAgICAgcmV0dXJuICdwYWdlLWRlZmknOwogICAgICAgICAgaWYgKGlkLmluY2x1ZGVzKCdzcmMvcGFnZXMvT25DaGFpbicpKSAgICAgIHJldHVybiAncGFnZS1vbmNoYWluJzsKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL3BhZ2VzL0ludGVsbGlnZW5jZScpKSByZXR1cm4gJ3BhZ2UtaW50ZWxsaWdlbmNlJzsKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL3BhZ2VzL1NlbnRpbWVudCcpKSAgICByZXR1cm4gJ3BhZ2Utc2VudGltZW50JzsKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL3BhZ2VzL0FsZXJ0cycpKSAgICAgICByZXR1cm4gJ3BhZ2UtYWxlcnRzJzsKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL3BhZ2VzL0NvbnZlcnRlcicpKSAgICByZXR1cm4gJ3BhZ2UtY29udmVydGVyJzsKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL3BhZ2VzL1BvcnRmb2xpbycpKSAgICByZXR1cm4gJ3BhZ2UtcG9ydGZvbGlvJzsKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL3BhZ2VzL0Z1bmRhbWVudGFscycpKSByZXR1cm4gJ3BhZ2UtZnVuZGFtZW50YWxzJzsKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL3BhZ2VzL05ldHdvcmtzJykpICAgICByZXR1cm4gJ3BhZ2UtbmV0d29ya3MnOwogICAgICAgICAgaWYgKGlkLmluY2x1ZGVzKCdzcmMvcGFnZXMvVG9rZW5zJykpICAgICAgIHJldHVybiAncGFnZS10b2tlbnMnOwogICAgICAgICAgaWYgKGlkLmluY2x1ZGVzKCdzcmMvcGFnZXMvQUlTaWduYWxzJykpICAgIHJldHVybiAncGFnZS1haXNpZ25hbHMnOwogICAgICAgICAgaWYgKGlkLmluY2x1ZGVzKCdzcmMvcGFnZXMvU2VjdXJpdHknKSkgICAgIHJldHVybiAncGFnZS1zZWN1cml0eSc7CiAgICAgICAgICBpZiAoaWQuaW5jbHVkZXMoJ3NyYy9wYWdlcy9TbWFydE1vbmV5JykpICAgcmV0dXJuICdwYWdlLXNtYXJ0bW9uZXknOwogICAgICAgICAgaWYgKGlkLmluY2x1ZGVzKCdzcmMvcGFnZXMvUG9ydGFsJykpICAgICAgIHJldHVybiAncGFnZS1wb3J0YWwnOwoKICAgICAgICAgIC8vIOKUgOKUgOKUgCBTaGFyZWQgY29tcG9uZW50cyBjaHVuayDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL2NvbXBvbmVudHMvc2hhcmVkLycpKSByZXR1cm4gJ3NoYXJlZC1jb21wb25lbnRzJzsKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL2NvbXBvbmVudHMvbGF5b3V0LycpKSByZXR1cm4gJ2xheW91dC1jb21wb25lbnRzJzsKICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnc3JjL2NvbXBvbmVudHMvdGlsZXMvJykpICByZXR1cm4gJ3RpbGUtY29tcG9uZW50cyc7CgogICAgICAgICAgLy8g4pSA4pSA4pSAIEhvb2tzICsgbGliIGNodW5rIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAogICAgICAgICAgaWYgKGlkLmluY2x1ZGVzKCdzcmMvaG9va3MvJykgfHwgaWQuaW5jbHVkZXMoJ3NyYy9saWIvJykpIHsKICAgICAgICAgICAgcmV0dXJuICdhcHAtaG9va3MnOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIH0sCiAgICB9LAogIH0sCgogIG9wdGltaXplRGVwczogewogICAgZXhjbHVkZTogWydAL3dvcmtlcnMvbWFya2V0V29ya2VyJ10sCiAgfSwKfSkpOwo=";

function delay(ms) { return new Promise(r => setTimeout(r, ms)); }

async function req(method, path, body) {
  return new Promise((resolve, reject) => {
    const data = JSON.stringify(body);
    const options = {
      hostname: "api.github.com", path, method,
      headers: {
        "Authorization": `Bearer ${TOKEN}`,
        "Content-Type": "application/json",
        "User-Agent": "push103-zeromeridian",
        "Accept": "application/vnd.github.v3+json",
        "Content-Length": Buffer.byteLength(data),
      }
    };
    const r = https.request(options, res => {
      let body = "";
      res.on("data", d => body += d);
      res.on("end", () => resolve({ status: res.statusCode, body: JSON.parse(body || "{}") }));
    });
    r.on("error", reject);
    r.write(data); r.end();
  });
}

async function getSHA(fp) {
  return new Promise((resolve) => {
    const options = {
      hostname: "api.github.com",
      path: `/repos/${OWNER}/${REPO}/contents/${fp}`,
      method: "GET",
      headers: {
        "Authorization": `Bearer ${TOKEN}`,
        "User-Agent": "push103-zeromeridian",
        "Accept": "application/vnd.github.v3+json",
      }
    };
    const r = https.request(options, res => {
      let body = "";
      res.on("data", d => body += d);
      res.on("end", () => {
        try { resolve(JSON.parse(body).sha || null); } catch { resolve(null); }
      });
    });
    r.on("error", () => resolve(null));
    r.end();
  });
}

async function push(fp, b64, msg) {
  for (let a = 1; a <= 3; a++) {
    const sha = await getSHA(fp);
    const body = { message: msg, content: b64 };
    if (sha) body.sha = sha;
    const r = await req("PUT", `/repos/${OWNER}/${REPO}/contents/${fp}`, body);
    if (r.status === 200 || r.status === 201) { console.log("âœ… " + fp); return true; }
    if (r.status === 409) { console.log("âš ï¸  conflict, retry " + a + "..."); await delay(2500 * a); continue; }
    console.error("âŒ HTTP " + r.status + " " + fp, JSON.stringify(r.body).slice(0, 200));
    return false;
  }
  return false;
}

console.log("ðŸš€ push103 â€” ZERÃ˜ MERIDIAN â€” Bundle splitting + Performance");
console.log("â”€".repeat(56));

await push("src/hooks/useDevicePerf.ts", C0, "push103: useDevicePerf.ts");
await delay(600);
await push("src/components/shared/GlassCard.tsx", C1, "push103: GlassCard.tsx");
await delay(600);
await push("src/components/layout/Topbar.tsx", C2, "push103: Topbar.tsx");
await delay(600);
await push("src/components/shared/GlobalStatsBar.tsx", C3, "push103: GlobalStatsBar.tsx");
await delay(600);
await push("src/components/layout/AppShell.tsx", C4, "push103: AppShell.tsx");
await delay(600);
await push("vite.config.ts", C5, "push103: vite.config.ts");
await delay(600);

console.log("â”€".repeat(56));
console.log("âœ… push103 COMPLETE");
